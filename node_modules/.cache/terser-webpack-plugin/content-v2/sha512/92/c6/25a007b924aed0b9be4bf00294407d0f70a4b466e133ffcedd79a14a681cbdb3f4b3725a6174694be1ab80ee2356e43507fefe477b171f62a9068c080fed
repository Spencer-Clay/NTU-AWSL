{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[194],{2198:function(s,t,n){\"use strict\";n.r(t);var a=n(75),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"php-session伪造\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#php-session伪造\"}},[s._v(\"#\")]),s._v(\" php session伪造\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"session存储位置\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#session存储位置\"}},[s._v(\"#\")]),s._v(\" session存储位置\")]),s._v(\" \"),a(\"p\",[s._v(\"在开发的时候我们可以通过如下语句来指定php session文件的存放位置：\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-php line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-php\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"session_save_path\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string double-quoted-string\"}},[s._v('\"/tmp/\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"session_start\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"p\",[s._v(\"php的session默认存储文件名是sess_+PHPSESSID的值，如下图是一个标准的php session\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:n(834),alt:\"iShot2022-04-01_18.20.37\"}})]),s._v(\" \"),a(\"h2\",{attrs:{id:\"生成session文件\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#生成session文件\"}},[s._v(\"#\")]),s._v(\" 生成session文件\")]),s._v(\" \"),a(\"p\",[s._v(\"我们可以通过如下文件来生成一个session文件：\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-php line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-php\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token php language-php\"}},[a(\"span\",{pre:!0,attrs:{class:\"token delimiter important\"}},[s._v(\"<?php\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ini_set\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string single-quoted-string\"}},[s._v(\"'session.serialize_handler'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string single-quoted-string\"}},[s._v(\"'php_binary'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"session_save_path\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string double-quoted-string\"}},[s._v('\"/tmp/\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"session_start\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$_SESSION\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),a(\"span\",{pre:!0,attrs:{class:\"token string single-quoted-string\"}},[s._v(\"'username'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string single-quoted-string\"}},[s._v(\"'admin'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\")])]),a(\"p\",[s._v(\"如下图就是生成的session值：\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:n(835),alt:\"iShot2022-04-01_18.23.12\"}})]),s._v(\" \"),a(\"h2\",{attrs:{id:\"利用\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#利用\"}},[s._v(\"#\")]),s._v(\" 利用\")]),s._v(\" \"),a(\"p\",[s._v(\"在比赛当中，可以通过上传文件到php sessionid文件的位置来修改我们的session。\")]),s._v(\" \"),a(\"p\",[s._v(\"以上图为例我们就可以设置Cookie为\"),a(\"code\",[s._v(\"PHPSESSID=23nishj34klffe17bb22e954np\")]),s._v(\"，从而获得管理员权限。\")])])}),[],!1,null,null,null);t.default=e.exports},834:function(s,t,n){s.exports=n.p+\"assets/img/iShot2022-04-01_18.20.37.9e8db9ed.jpg\"},835:function(s,t,n){s.exports=n.p+\"assets/img/iShot2022-04-01_18.23.12.45892875.jpg\"}}]);","extractedComments":[]}